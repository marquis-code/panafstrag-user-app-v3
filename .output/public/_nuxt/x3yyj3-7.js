import{_ as U}from"./BIGRVtsG.js";import{_ as $,a as z}from"./CrEOAdl2.js";import{_ as G}from"./CMF5XXTb.js";import{o as V,r as h,d as q,E as J,c as l,b as t,u as d,F as A,f as E,e as y,G as N,w as S,C as W,a as s,n as L,t as p,i as K,p as M,q as Q,k as b}from"./Dw_sLmbY.js";import{_ as X}from"./BZOMcHVy.js";import{G as w}from"./DcGoPhyd.js";import{u as Z}from"./Ce6JYIII.js";import{p as ee}from"./C43Dch_I.js";import{u as te}from"./CHTkllZW.js";import"./B7SCmL1A.js";const re={getArchives:n=>w.get("/archive",{params:n}),getArchive:n=>w.get(`/archive/${n}`),createArchive:n=>w.post("/archive",n),updateArchive:(n,g)=>w.patch(`/archive/${n}`,g),deleteArchive:n=>w.delete(`/archive/${n}`)},ae=()=>{const n=h(!1),g=h([]),v=h(null),x=async()=>{n.value=!0,v.value=null;try{const u=await re.getArchives();return[200,201].includes(u?.status)&&(g.value=u.data?.data??u.data??[]),u}catch(u){v.value=u?.message||"Failed to fetch archives"}finally{n.value=!1}};return V(x),{loading:n,archives:g,error:v,fetchArchives:x}},oe={class:"space-y-16 px-6 lg:px-0 pt-16 container mx-auto pb-32"},se={class:"max-w-3xl mx-auto text-center mb-24 animate-fade-in-up"},le=["innerHTML"],ne=["innerHTML"],ie={class:"flex flex-col md:flex-row items-center justify-center gap-4 md:gap-8 mb-8 md:mb-16 animate-fade-in-up delay-100 relative z-20"},ce={class:"inline-flex p-1 bg-gray-50 rounded-xl border border-gray-100 overflow-x-auto max-w-full no-scrollbar"},de=["onClick"],ue={class:"flex items-center gap-3 w-full md:w-auto"},pe={class:"w-40 lg:w-48"},he={key:0,class:"w-40 lg:w-48"},ge={key:0},me={key:1,class:"space-y-24"},ve={class:"border-b border-gray-100 pb-4"},xe={class:"text-3xl font-black uppercase tracking-tighter italic"},fe={class:"not-italic text-gray-400"},_e={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 md:gap-14"},ye={class:"aspect-[4/5] bg-gray-100 rounded-2xl overflow-hidden mb-6 md:mb-8 shadow-sm relative"},be=["src"],we=["src"],ke={key:2,src:X,alt:"",class:"w-full h-full object-cover grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-700 opacity-60 group-hover:opacity-100"},De={class:"space-y-3 md:space-y-4"},Ae={class:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] text-gray-500"},Ee={class:"text-xl md:text-2xl font-black uppercase tracking-tighter group-hover:text-[#2E7D32] transition-colors line-clamp-2 leading-tight italic"},Me=["href"],Te={class:"h-full bg-gray-50 border border-gray-100 rounded-[1.5rem] p-8 md:p-10 flex flex-col hover:border-[#2E7D32]/30 hover:shadow-xl hover:-translate-y-2 transition-all duration-500 group/archive relative overflow-hidden"},Ce={class:"w-14 h-14 md:w-16 md:h-16 rounded-2xl bg-white border border-gray-100 group-hover/archive:border-[#2E7D32]/30 flex items-center justify-center mb-8 md:mb-10 text-black group-hover/archive:text-[#2E7D32] transition-all duration-500 shadow-sm group-hover/archive:rotate-3"},Ne={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Se={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Le={key:2,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 md:h-7 md:w-7",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ve={class:"flex-grow relative z-10"},Ye={class:"text-[#2E7D32] text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] mb-3 md:mb-4"},Fe={class:"text-xl md:text-2xl font-black mb-4 tracking-tighter uppercase line-clamp-3 group-hover/archive:text-[#2E7D32] transition-colors leading-tight italic"},He={key:2},qe=q({__name:"archives",setup(n){const{archives:g,loading:v}=ae(),{homeContent:x}=Z(),u=h([]),k=h(!1);V(async()=>{k.value=!0;try{const a=await ee.getPastPrograms();[200,201].includes(a?.status)&&(u.value=(a.data?.data??a.data??[]).map(e=>({...e,type:"program",fileUrl:null,_source:"program"})))}catch{}finally{k.value=!1}});const D=J(),f=h(D.query.type||"all"),m=h(D.query.year||"all"),_=h(D.query.month||"all"),T=["January","February","March","April","May","June","July","August","September","October","November","December"],Y=T.map((a,e)=>({label:a.toUpperCase(),value:(e+1).toString()})),F=b(()=>{const a=new Date().getFullYear(),e=1992,o=[];for(let c=a;c>=e;c--)o.push({label:c.toString(),value:c.toString()});return o}),H=b(()=>{const a=g.value||[],e=u.value||[];return[...a,...e]}),R=["all","program","speech","report","publication","media"],P=b(()=>{let a=H.value;return f.value!=="all"&&(a=a.filter(e=>e.type===f.value||f.value==="program"&&e._source==="program")),m.value!=="all"&&(a=a.filter(e=>(e.date?new Date(e.date).getFullYear():e.startDate&&!isNaN(new Date(e.startDate).getTime())?new Date(e.startDate).getFullYear():e.year||null)===parseInt(m.value))),_.value!=="all"&&(a=a.filter(e=>(e.date?new Date(e.date).getMonth()+1:e.startDate&&!isNaN(new Date(e.startDate).getTime())?new Date(e.startDate).getMonth()+1:e.month||null)===parseInt(_.value))),a}),C=b(()=>{const a=P.value,e={};for(const o of a){const c=o.date?new Date(o.date).getFullYear():o.startDate&&!isNaN(new Date(o.startDate).getTime())?new Date(o.startDate).getFullYear():o.year||0;e[c]||(e[c]=[]),e[c].push(o)}return Object.keys(e).map(Number).sort((o,c)=>c-o).map(o=>({year:o,items:e[o]}))}),j=b(()=>v.value||k.value);return te({title:"Archives | PANAFSTRAG"}),(a,e)=>{const o=U,c=$,O=G,B=z;return s(),l("div",oe,[t("div",se,[t("h1",{class:"text-4xl lg:text-5xl font-black mb-6 tracking-tighter uppercase italic",innerHTML:d(x)?.archivesPageTitle||"Institutional <span class='not-italic text-gray-400'>Archives</span>"},null,8,le),t("p",{class:"text-gray-500 text-lg font-medium leading-relaxed",innerHTML:d(x)?.archivesPageDescription||"A comprehensive repository of past programmes, strategic evaluations, policy briefs, and historical documents from PANAFSTRAG operations."},null,8,ne)]),t("div",ie,[t("div",ce,[(s(),l(A,null,E(R,i=>t("button",{key:i,onClick:r=>f.value=i,class:L(["px-4 md:px-8 py-2 md:py-2.5 rounded-lg text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] transition-all whitespace-nowrap",d(f)===i?"bg-black text-white":"text-gray-400 hover:text-black"])},p(i==="program"?"PAST PROGRAMMES":i),11,de)),64))]),t("div",ue,[t("div",pe,[y(o,{modelValue:d(m),"onUpdate:modelValue":e[0]||(e[0]=i=>N(m)?m.value=i:null),options:[{label:"ALL YEARS",value:"all"},...d(F)],placeholder:"SELECT YEAR"},null,8,["modelValue","options"])]),y(W,{"enter-active-class":"transition duration-300 ease-out","enter-from-class":"opacity-0 -translate-x-4","enter-to-class":"opacity-100 translate-x-0"},{default:S(()=>[d(m)!=="all"?(s(),l("div",he,[y(o,{modelValue:d(_),"onUpdate:modelValue":e[1]||(e[1]=i=>N(_)?_.value=i:null),options:[{label:"ALL MONTHS",value:"all"},...d(Y)],placeholder:"SELECT MONTH"},null,8,["modelValue","options"])])):K("",!0)]),_:1})])]),d(j)?(s(),l("div",ge,[y(c)])):d(C)?.length?(s(),l("div",me,[(s(!0),l(A,null,E(d(C),i=>(s(),l("div",{key:i.year,class:"space-y-12"},[t("div",ve,[t("h2",xe,[e[2]||(e[2]=M(" Archive Year: ",-1)),t("span",fe,p(i.year),1)])]),t("div",_e,[(s(!0),l(A,null,E(i.items,(r,I)=>(s(),l("div",{key:r._id,class:L(["group relative animate-fade-in-up",`delay-${(I%3+1)*100}`])},[r._source==="program"?(s(),Q(O,{key:0,to:`/programs/${r._id}`,class:"block h-full"},{default:S(()=>[t("div",ye,[r.bannerImages?.length?(s(),l("img",{key:0,src:r.bannerImages[0],class:"w-full h-full object-cover grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-700"},null,8,be)):r.imageUrl?(s(),l("img",{key:1,src:r.imageUrl,class:"w-full h-full object-cover grayscale group-hover:grayscale-0 group-hover:scale-105 transition-all duration-700"},null,8,we)):(s(),l("img",ke)),e[3]||(e[3]=t("span",{class:"absolute top-4 right-4 px-3 py-1 bg-[#2E7D32] text-white text-[9px] font-black uppercase tracking-[0.2em] rounded-full shadow-lg"},"PROGRAMME",-1))]),t("div",De,[t("span",Ae,p(r.date?new Date(r.date).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"}):r.startDate),1),t("h4",Ee,p(r.title),1),e[4]||(e[4]=t("div",{class:"pt-2 md:pt-4"},[t("span",{class:"text-[9px] md:text-[10px] font-black uppercase tracking-[0.1em] border-b-2 border-black pb-1 group-hover:border-[#2E7D32] group-hover:text-[#2E7D32] transition-all inline-flex items-center gap-2"},[M(" VIEW DETAILS "),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-3 w-3 group-hover:translate-x-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})])])],-1))])]),_:2},1032,["to"])):(s(),l("a",{key:1,href:r.fileUrl,target:"_blank",class:"block h-full"},[t("div",Te,[e[8]||(e[8]=t("div",{class:"absolute -right-10 -top-10 w-40 h-40 bg-[#2E7D32]/5 rounded-full blur-3xl group-hover/archive:bg-[#2E7D32]/10 transition-colors duration-500"},null,-1)),t("div",Ce,[r.type==="speech"?(s(),l("svg",Ne,[...e[5]||(e[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z"},null,-1)])])):r.type==="report"||r.type==="publication"?(s(),l("svg",Se,[...e[6]||(e[6]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1)])])):(s(),l("svg",Le,[...e[7]||(e[7]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"},null,-1)])]))]),t("div",Ve,[t("p",Ye,p(r.type)+" â€¢ "+p(r.month?T[r.month-1]:"")+" "+p(r.year||new Date(r.date).getFullYear()),1),t("h4",Fe,p(r.title),1)]),e[9]||(e[9]=t("div",{class:"mt-8 pt-6 border-t border-gray-100 group-hover/archive:border-[#2E7D32]/20 relative z-10"},[t("span",{class:"inline-flex items-center gap-2 text-[9px] md:text-[10px] font-black uppercase tracking-[0.1em] border-b-2 border-transparent pb-1 group-hover/archive:border-[#2E7D32] text-gray-500 group-hover/archive:text-[#2E7D32] transition-all"},[M(" DOWNLOAD RESOURCE "),t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 group-hover/archive:-translate-y-1 transition-transform",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})])])],-1))])],8,Me))],2))),128))])]))),128))])):(s(),l("div",He,[y(B,{title:"ARCHIVES EMPTY",message:"The intelligence repository for this category is currently being indexed or contains no public records."})]))])}}});export{qe as default};
